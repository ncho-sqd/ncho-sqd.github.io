<!DOCTYPE html>
<!--
    So Simple Jekyll Theme 3.1.1
    Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
    Free for personal and commercial use under the MIT license
    https://github.com/mmistakes/so-simple-theme/blob/master/LICENSE
-->
<html lang="en-US" class="no-js">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  

  
    
    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>How are people riding Divvy bikes in Chicago on a Monday? (Part 1) | Curious Nacho</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="How are people riding Divvy bikes in Chicago on a Monday? (Part 1)" />
<meta name="author" content="nacho" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Divvy is Chicago’s bike share program which works the same way as NYC’s Citi Bike and Washington DC’s Capital Bikeshare. You undock a bike from a station, ride it for 30 minutes until you dock it back into any station, with a fee." />
<meta property="og:description" content="Divvy is Chicago’s bike share program which works the same way as NYC’s Citi Bike and Washington DC’s Capital Bikeshare. You undock a bike from a station, ride it for 30 minutes until you dock it back into any station, with a fee." />
<link rel="canonical" href="http://localhost:4000/docs/analyze_divvy_rss_feed_part1/" />
<meta property="og:url" content="http://localhost:4000/docs/analyze_divvy_rss_feed_part1/" />
<meta property="og:site_name" content="Curious Nacho" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-10-28T00:00:00-05:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@nacho" />
<script type="application/ld+json">
{"description":"Divvy is Chicago’s bike share program which works the same way as NYC’s Citi Bike and Washington DC’s Capital Bikeshare. You undock a bike from a station, ride it for 30 minutes until you dock it back into any station, with a fee.","author":{"@type":"Person","name":"nacho"},"@type":"BlogPosting","url":"http://localhost:4000/docs/analyze_divvy_rss_feed_part1/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/images/nacho.jpg"},"name":"nacho"},"headline":"How are people riding Divvy bikes in Chicago on a Monday? (Part 1)","dateModified":"2018-10-28T00:00:00-05:00","datePublished":"2018-10-28T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/docs/analyze_divvy_rss_feed_part1/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/css/main.css">
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,700,700i|Lora:400,400i,700,700i">
  <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

</head>


  <body class="layout--post  how-are-people-riding-divvy-bikes-in-chicago-on-a-monday-part-1">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
  <div class="navigation-wrapper">
    <a href="#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav animated drop">
      <ul><li><a href="/">Home</a></li><li><a href="/docs/about/index.html">About</a></li></ul>
    </nav>
  </div><!-- /.navigation-wrapper -->


    <header class="masthead">
  <div class="wrap">
    
      <a href="/" class="site-logo" rel="home" title="Curious Nacho">
        <img src="/images/nacho.jpg" class="site-logo-img animated fadeInDown" alt="Curious Nacho">
      </a>
    
    
    
      
        <div class="site-title animated fadeIn"><a href="/">Curious Nacho</a></div>
      
      <p class="site-description animated fadeIn" itemprop="description">Welcome curious person!</p>
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    

    <div class="page-wrapper">
      <header class="page-header">
        
        
          <h1 id="page-title" class="page-title p-name">How are people riding Divvy bikes in Chicago on a Monday? (Part 1)
</h1>
        
      </header>

      <div class="page-sidebar">
        <div class="page-author h-card p-author"><div class="author-info">
    <time class="page-date dt-published" datetime="2018-10-28T00:00:00-05:00"><a class="u-url" href="">October 28, 2018</a>
</time>

  </div>
</div>

        
  <h3 class="page-taxonomies-title">Categories</h3>
  <ul class="page-taxonomies"><li class="page-taxonomy">docs</li>
  </ul>


        

      </div>

      <div class="page-content">
        <div class="e-content">
          <p><a href="https://www.divvybikes.com/">Divvy</a> is Chicago’s bike share program which works the same way as NYC’s <a href="https://www.citibikenyc.com/">Citi Bike</a> and Washington DC’s <a href="https://www.capitalbikeshare.com/">Capital Bikeshare</a>.  You undock a bike from a station, ride it for 30 minutes until you dock it back into any station, with a fee.</p>

<p>It’s a great way to get from point A to B, but I usually ride them during summertime along Lake Michigan, which is absolutely <strong><em>GLORIOUS</em></strong>.  Below is a picture I took when me and my friends went on for a ride.</p>

<p><img src="/images/2018-10-28-analyze_divvy_rss_feed_part1_files/2018-10-28-analyze_divvy_rss_feed_part1_3_0.jpeg" alt="jpeg" class="center-image" height="600px" /></p>

<p>Divvy exposes a <a href="https://feeds.divvybikes.com/stations/stations.json">JSON feed</a> online, which seems to update every few seconds on how many bikes are available in all the stations in real time.  This seemed like interesting data, so I collected for ~24 hours starting from Monday, October 8th, 2018 and started peaking in for any interesting patterns.</p>

<p><br /></p>
<h2 id="how-large-are-the-stations-and-where-are-the-largest-stations">How large are the stations, and where are the largest stations?<br /></h2>

<p>There are <strong>588 stations</strong> that are operational as of October 8th, 2018 and the <strong>median dock count is 15</strong>(station size).  If you’re Divvy station has more than 15 docks, now you know that you’re at a relatively larger station or not.</p>

<p>Also, histrogram of station dock counts below shows that the majority of the stations are smaller than 20 docks.  Specifically, <strong>~80% (470) of stations have fewer than 20 docks</strong>.</p>

<p><img src="/images/2018-10-28-analyze_divvy_rss_feed_part1_files/2018-10-28-analyze_divvy_rss_feed_part1_8_0.png" alt="png" class="center-image" /></p>

<p>Moving onto the bigger stations, there are exactly 10 stations that has more than 40 docks as below.  The largest stations have 55 docks and there are 3 stations with this many docks available.</p>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>station name</th>
      <th>total docks</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Columbus Dr &amp; Randolph St</td>
      <td>55.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Shedd Aquarium</td>
      <td>55.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Field Museum</td>
      <td>55.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Canal St &amp; Adams St</td>
      <td>47.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Ravenswood Ave &amp; Lawrence Ave</td>
      <td>47.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Streeter Dr &amp; Grand Ave</td>
      <td>47.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Millennium Park</td>
      <td>47.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Michigan Ave &amp; Washington St</td>
      <td>43.0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Larrabee St &amp; Kingsbury St</td>
      <td>43.0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Michigan Ave &amp; 8th St</td>
      <td>42.0</td>
    </tr>
  </tbody>
</table>
</div>

<p>As expected, most of these stations are located in the downtown Chicago area, except for the <a href="https://www.google.com/maps/place/Divvy+Station:+Ravenswood+Ave+%26+Lawrence+Ave/@41.9690647,-87.6741959,3a,75y,260.11h,90t/data=!3m7!1e1!3m5!1sNJ47KNZ-sIN2KJHE8rpdSw!2e0!6s%2F%2Fgeo3.ggpht.com%2Fcbk%3Fpanoid%3DNJ47KNZ-sIN2KJHE8rpdSw%26output%3Dthumbnail%26cb_client%3Dsearch.TACTILE.gps%26thumb%3D2%26w%3D234%26h%3D106%26yaw%3D260.11026%26pitch%3D0%26thumbfov%3D100!7i13312!8i6656!4m8!1m2!2m1!1sdivvy+Ravenswood+Ave+%26+Lawrence!3m4!1s0x880fd223bd912f4f:0x491bfb46039d36dd!8m2!3d41.9690567!4d-87.674241">Ravenswood Ave &amp; Lawrence</a> Ave and <a href="https://www.google.com/maps/place/N+Kingsbury+St+%26+N+Larrabee+St,+Chicago,+IL+60610/@41.8977745,-87.6429428,3a,75y,187.5h,90t/data=!3m7!1e1!3m5!1syF7jeG18zexd9_SrVc-dLg!2e0!6s%2F%2Fgeo3.ggpht.com%2Fcbk%3Fpanoid%3DyF7jeG18zexd9_SrVc-dLg%26output%3Dthumbnail%26cb_client%3Dsearch.TACTILE.gps%26thumb%3D2%26w%3D86%26h%3D86%26yaw%3D187.4999%26pitch%3D0%26thumbfov%3D100!7i16384!8i8192!4m5!3m4!1s0x880fd3348132faf9:0x8bc5db7cbbbbc56e!8m2!3d41.897778!4d-87.6430376">Larrabee St &amp; Kingsbury St</a> station.</p>

<p>The Ravenswood station features a double-sided docking design and the Larrabee station seems to be next by the Groupon HQ based on Google Street View images.  Not sure why there are huge stations there, but these might be locations with high foot-traffic outside of downtown Chicago.  Might be worth checking out once Chicago turns warmer.</p>

<p><br /></p>
<h2 id="where-are-the-bikes-parked-throughout-monday">Where are the bikes parked throughout Monday?</h2>

<p>Below is an animated <strong>heatmap of where bikes are parked in 10 minute intervals</strong>.  This might reveal some interesting travel patterns that show how people are using Divvy bikes.  Each circle is a station, where red indicates more bikes parked and ligher yellow indicates fewer bikes.  Also, larger circles indicate bigger stations with more docking spots.</p>

<p><img src="/images/2018-10-28-analyze_divvy_rss_feed_part1_files/divvy_heatmap.gif" alt="gif" class="center-image" /></p>

<p>There are a few patterns we can observe:</p>

<ul>
  <li>The day starts off with a lot of bikes (red) parked in the downtown Chicago area.</li>
  <li>The heat (red) starts to clear out a little from the eastern side of downtown Chicago since start of day.</li>
  <li>More heat (red) clears out of downtown Chicago to north and northwest neighborhoods starting from 4:00pm.</li>
</ul>

<p>All in all, people seem to use Divvy (decrease in red) actively in the eastern part of downtown Chicago staring from earlier in the day, followed by a lot of bikes in downtown Chicago flushing out to north and northwest neighborhoods around commute time.</p>

<p><br /></p>
<h2 id="trends-in-total-bikes-available-in-divvy">Trends in total bikes available in Divvy</h2>
<p>Below is a chart that sums up the activity observed in the heatmap above across all stations in the Divvy system.  More specifically, the total number of bikes parked in all stations are shown over time.</p>

<p>The reason for two lines corresponding to min/max is because a station could report different numbers of bikes parked in a 1 second interval (least time measurement unit for Divvy) when there is high activity.  Grey area shows the difference of the min/max lines, which could tell us how actively bikes docked and undocked in single stations (single-station busyness).</p>

<p><img src="/images/2018-10-28-analyze_divvy_rss_feed_part1_files/2018-10-28-analyze_divvy_rss_feed_part1_21_0.png" alt="png" class="center-image" /></p>

<p>Consistent with what we observed from the heatmap, we see the number of bikes available decrease from start of day until  12:00pm (both the min/max lines).  This drawdown might be driven by the heat clearing out from the eastern part of downtown Chicago in the heatmap.</p>

<p>After this comes a drastic dip in bike count from 4:00pm, followed by a spike up until 8:00pm.  I’m pretty sure that this pattern is driven by the heat flushing out of downtown Chicago and spreading to north and northwest neighborhoods in the heatmap.</p>

<p>Single station busyness (grey area) spikes up when the number of bikes dip down to minimum shortly after 5:00pm, meaning that this is an extremely busy time, where people are not only using Divvy bikes a lot, but also docking and undocking very frequently.</p>

<p>We’ve seen a few charts, and have a few hypothesis for the patterns that we see in them so far:</p>
<ul>
  <li><strong>Hypothesis 1: Decrease in bike count from morning until 12:00pm is driven by high usage patterns in eastern downtown Chicago stations.</strong></li>
  <li><strong>Hypothesis 2: Dip and spike in bike count starting from 4:00pm are caused by commuters going home from downtown Chicago to north and northwest neighborhoods.</strong></li>
</ul>

<p><br />
In part 2, I’ll start looking into station level patterns that are driving the overall trend in the chart above to verify the hypotheses I established and dig out other interesting patterns.</p>

<p>Hope you enjoyed reading and stay tuned to see if my guesses are correct :)</p>

<p><br /></p>
<h2 id="more">More</h2>

<p>Python script to download json feed from Divvy, click <a href="https://github.com/lacolombe-nowifi/etl/blob/dev/scrape_divvy_rss_feed.py">here</a>.</p>

<p>Jupyter notebook for analysis in this post, click <a href="https://github.com/ncho-sqd/ncho-sqd.github.io/blob/master/original_posts/analyze_divvy_rss_feed_part1.ipynb">here</a>.</p>

        </div>

        

        
          

        

        <nav class="page-pagination" role="navigation">
  
    <a class="page-previous" href="/docs/clean_email_inbox/">
      <h4 class="page-pagination-label">Previous</h4>
      <span class="page-pagination-title">
        <i class="fas fa-arrow-left"></i> How I got my Gmail inbox count down by 50% using Python

      </span>
    </a>
  

  
    <a class="page-next" href="/docs/analyze_divvy_rss_feed_part2/">
      <h4 class="page-pagination-label">Next</h4>
      <span class="page-pagination-title">
        How are people riding Divvy bikes in Chicago on a Monday? (Part 2)
 <i class="fas fa-arrow-right"></i>
      </span>
    </a>
  
</nav>

      </div>
    </div>
  </article>
</main>


    <footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
<div class="social-icons"><a class="social-icon" href="/atom.xml"><i class="fas fa-rss-square fa-2x" title="Feed"></i></a></div><div class="copyright">
    
      <p>&copy; 2019 Curious Nacho. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/mmistakes/so-simple-theme" rel="nofollow">So Simple</a>.</p>
    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script>


  </body>

</html>
